<p>power run works!</p>

<ng-container *ngIf="showSpinner ;else started">
      <div class="center-spinner">
          <p-progressSpinner [style]="{width: '100px', height: '100px'}" strokeWidth="8" fill="#EEEEEE" animationDuration="1s"></p-progressSpinner>
      </div>
</ng-container>


<ng-container #started *ngIf="powerActivityLines">

<br>

<div class="p-grid">
    
<div class="p-col-2">
    <p-card header="Athlete" [style]="{width: '200px'}" #started *ngIf="athlete">
    <b>{{athlete.name}}</b>
    <br>
    <b>{{athlete.surname}}</b>
    <br>
    <b>{{athlete.mass}}</b> kg - HRmax : <b>{{athlete.hearthmax}}</b> bpm
    </p-card>
    <br>
    Number of Activity Power Points : <b>{{powerActivityLines.length}}</b>
</div>


<div class="p-col-8">

    <div class="p-grid" #started *ngIf="statisticsPowerActivity ">
        <div class="p-col">
            <p-card header="Power Average" [style]="{width: '200px'}">
                <div> <h4>{{statisticsPowerActivity.poweraverage}}</h4></div>
            </p-card>
        </div>
        <div class="p-col">
            <p-card header="Power Median" [style]="{width: '200px'}">
                <div> <h4>{{statisticsPowerActivity.powermedian}}</h4></div>
            </p-card>
        </div>
        <div class="p-col">
            <p-card header="Deviation" [style]="{width: '200px'}">
                <div> <h4>{{statisticsPowerActivity.deviation}}</h4></div>
            </p-card>
        </div>
        <div class="p-col">
            <p-card header="Delta" [style]="{width: '200px'}">
                <div> <h4>{{statisticsPowerActivity.deltafirstquartil}} + {{statisticsPowerActivity.deltathirdquartil}}</h4></div>
            </p-card>
        </div>
        <div class="p-col">
            <p-card header="Power Score" [style]="{width: '200px'}">
                <div> <h4>{{statisticsPowerActivity.powerscore}}</h4></div>
            </p-card>
        </div>
    </div>


<br><br>

<div class="border-container ombres-container" >

<p-table [value]="powerActivityLines" [scrollable]="true" scrollHeight="400px">
    <ng-template pTemplate="header">
        <tr>
            <th>Power (W)</th>
            <th>Speed (m/s)</th>
            <th>Pace (min/km)</th>
            <th>Hearthrate (bpm)</th>
            <th>Distance (m)</th>
            <th>Time (s)</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-powerActivityLine>
        <tr>
            <td>{{powerActivityLine.power}}</td>
            <td>{{powerActivityLine.speed}}</td>
            <td>{{powerActivityLine.pace}}</td>
            <td>{{powerActivityLine.hearthrate}}</td>
            <td>{{powerActivityLine.distance}}</td>
            <td>{{powerActivityLine.timezone}}</td>
        </tr>
    </ng-template>
</p-table>

</div>

<br><br>

<div class="border-container ombres-container" >
    <p-chart type="bubble" [data]="plotPowerVersusTime" [options]="optionsPowerVersusTime"></p-chart>
</div>

<br><br>

<div class="border-container ombres-container">
    <p-chart type="bubble" [data]="plotPowerVersusDistance" [options]="optionsPowerVersusDistance"></p-chart>
</div>

<br><br>

<div class="border-container ombres-container">
    <p-chart type="bubble" [data]="plotPowerVersusSpeed" [options]="optionsPowerVersusSpeed"></p-chart>
</div>

<br><br>

<div class="border-container ombres-container">
    <p-chart type="bubble" [data]="plotPowerVersusPace" [options]="optionsPowerVersusPace"></p-chart>
</div>

<br><br>

<div  class="border-container ombres-container">
    <p-chart type="bubble" [data]="plotPowerVersusHearthrate" [options]="optionsPowerVersusHearthrate"></p-chart>
</div>

<br><br>

<div  class="border-container ombres-container">
    <p-chart type="bar" [data]="plotPowerVersusZone" [options]="optionsPowerVersusZone"></p-chart>
</div>

</div>

<div class="p-col-2"></div>

</div>

</ng-container>
